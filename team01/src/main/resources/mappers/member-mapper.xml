<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper			
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"			
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kh.ex01.mappers.member">

<!-- 로그인 가능 여부 상태 확인(가입 승인 대기 상태) -->

<!-- 로그인 데이터 -->
<select id="loginRun" resultType="MemberVo">
	SELECT * FROM tbl_member
	WHERE userid = #{userid} AND userpw = #{userpw}
</select>

<!-- 아이디 중복체크 -->
<select id="checkId" resultType="int">
	SELECT COUNT(*) FROM tbl_member
	WHERE userid = #{ueno}
</select>

<!-- 사번 중복체크 -->
<select id="checkEno" resultType="int">
	SELECT COUNT(*) FROM tbl_member
	WHERE eno = #{eno}
</select>

<!-- 회원 정보 추가 -->
<insert id="registRun">
	INSERT INTO tbl_member (userid, userpw, username, eno, gender, email, phone)
	VALUES(#{userid}, #{userpw}, #{username}, #{eno}, #{gender}, #{email}, #{phone})
</insert>

<!-- 승인 대기 회원 리스트 -->
<select id="memberApproveList" resultType="MemberVo">
	SELECT * FROM tbl_member
	WHERE authority = 0
</select>

</mapper>